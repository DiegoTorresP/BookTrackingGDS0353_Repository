extends layout

block content
  .container-fluid
    .row
      .col
        .nav.navbar.navbar-light.bg-light.barrabusqueda1
          .col
            form.container-fluid.justify-content-start(action='/administrar/busqueda_solicitante' method='post')
              .col-auto
                input#nombre.form-control(placeholder='Solicitante' name='nombre') 
              .col-auto
                button.btn.btn-outline-danger.bi.bi-search(type='submit' style='margin:auto')
          .col
            form.container-fluid.justify-content-start(action='/administrar/busqueda_libro' method='post')
              .col-auto
                input#carrera.form-control(placeholder='Libro' name='libro')
              .col-auto
                button.btn.btn-outline-danger.bi.bi-search(type='submit')
          .col
            form.container-fluid.justify-content-start(action='/administrar/busqueda_estatus_prestamo' method='post')
              .col-auto
                select#estatus.form-control(placeholder='Estatus' name='estatus')
                  option Estatus
                  option En Espera
                  option Denegado
                  option Aceptado
                  option En curso 
                  option Regresado 
                  option Vencido 
              .col-auto
                button.btn.btn-outline-danger.bi.bi-search(type='submit')
    .row
      .col
        .container-fluid
          .row.barraresultado
            .col Atender Solicitudes
          .row.rowtabla
            .row
              .col
                table#tablaSolicitud.table.table-bordered.tabla
                  thead
                    tr
                      th(style='display: none;') Id
                      th(scope='col') Solicitante
                      th(scope='col') Libro
                      th(scope='col') Fecha de Solicitud
                      th(scope='col') Fecha de Entrega
                      th(scope='col') EstatusPrestamo
                      th(scope='col') Ver detalles de Libro
                      th(scope='col') Ver detalles de Alumno
                  tbody
                    each solicitud in Solicitud 
                      tr 
                        td(style='display:none;' id='id') #{solicitud._id}
                        th #{solicitud.nombre.Nombre_s +" "+ solicitud.nombre.Apellido_Paterno+" "+ solicitud.nombre.Apellido_Materno} 
                        td #{solicitud.libro.Nombre}
                        td #{solicitud.FechaSolicitud.toDateString()}
                        td #{solicitud.FechaEntrega.toDateString()}
                        td #{solicitud.EstatusPrestamo}
                        td 
                          -var url = "/administrar/detalle_libro/"+ (JSON.parse(JSON.stringify(solicitud.libro._id)))+"/solicitud/"+solicitud._id
                          a(href=url) 
                            img(src='/images/icon-mas.png', width='30px')
                        td 
                          -var url = "/administrar/detalle_alumno/"+ solicitud.Solicitante
                          a(href=url)
                            img(src='/images/icon-mas.png', width='30px')
    script(src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous")
                        